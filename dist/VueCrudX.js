module.exports=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=1)}([function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,a){try{var i=e[o](a),s=i.value}catch(t){return void r(t)}if(!i.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}return n("next")})}}var o=r(9),a=r.n(o),i=r(11),s=r.n(i),c={namespaced:!0,state:{records:[],totalRecs:0,record:{},pagination:{},filterData:{},defaultRec:{},crudOps:{find:null,delete:null,findOne:null,create:null,update:null}},getters:{record:function(t){return t.record},records:function(t){return t.records},totalRecs:function(t){return t.totalRecs},filterData:function(t){return t.filterData},pagination:function(t){return t.pagination},defaultRec:function(t){return t.defaultRec},crudOps:function(t){return t.crudOps}},mutations:{setRecords:function(t,e){t.records=e.records,t.totalRecs=e.totalRecs},setRecord:function(t,e){t.record=void 0!==e?e:t.defaultRec},setPagination:function(t,e){t.pagination=e},setFilterData:function(t,e){t.filterData=e}},actions:{setPagination:function(t,e){(0,t.commit)("setPagination",e)},deleteRecord:function(){function t(t,r){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e,r){var n=(e.commit,e.getters);return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.crudOps.delete(r);case 2:case"end":return t.stop()}},t,this)}));return t}(),getRecord:function(){function t(t,r){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e,r){var n,o=e.commit,i=e.getters;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.crudOps.findOne(r);case 2:n=t.sent,o("setRecord",n);case 4:case"end":return t.stop()}},t,this)}));return t}(),getRecords:function(){function t(t,r){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e,r){var n,o,i,s,c=e.commit,d=e.getters;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.crudOps.find(r);case 2:n=t.sent,o=n.records,i=n.pagination,s=o.length,c("setPagination",i),c("setFilterData",r.filterData),c("setRecords",{records:o,totalRecs:s});case 9:case"end":return t.stop()}},t,this)}));return t}(),updateRecord:function(){function t(t,r){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e,r){var n=(e.commit,e.getters);return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.crudOps.update(r);case 2:case"end":return t.stop()}},t,this)}));return t}(),createRecord:function(){function t(t,r){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e,r){var n=(e.commit,e.getters);e.dispatch;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.crudOps.create(r);case 2:case"end":return t.stop()}},t,this)}));return t}()}};e.a={props:["parentId","jwtToken","userId","storeName","crudFilter","crudTable","crudForm","crudOps"],created:function(){console.log("CRUD component created",this,this.parentId);var t=this.$store,e=this.storeName;t&&t.state&&t.state[e]?console.log("reusing module: "+e):(t.registerModule(e,s()(c)),t.state[e].defaultRec=this.crudForm.defaultRec,t.state[e].filterData=this.crudFilter.filterData,t.state[e].crudOps=this.crudOps,console.log("register module: "+e)),this.$options.filters.formatters=this.crudTable.formatters,this.headers=this.crudTable.headers,this.$options.components["crud-filter"]=this.crudFilter.FilterVue,this.$options.components["crud-form"]=this.crudForm.FormVue,this.record.id&&!this.parentId&&(this.addEditDialogFlag=!0),this.addons={parentId:this.parentId,jwtToken:this.jwtToken,userId:this.userId}},beforeUpdate:function(){},mounted:function(){},beforeRouteEnter:function(t,e,r){r(function(t){})},data:function(){return{addEditDialogFlag:!1,confirmDialogFlag:!1,confirmDialogText:"Would you like to proceed?",validFilter:!0,loading:!0,headers:{},addons:{}}},computed:{records:function(){return this.$store.getters[this.storeName+"/records"]},totalRecs:function(){return this.$store.getters[this.storeName+"/totalRecs"]},filterData:function(){return this.$store.getters[this.storeName+"/filterData"]},record:function(){return this.$store.getters[this.storeName+"/record"]},pagination:{get:function(){var t={};try{t=this.$store.state[this.storeName].pagination}catch(t){console.log("Catch computed pagination:",t.message)}return t},set:function(t){this.setPagination(t)}}},watch:{loading:function(t,e){},pagination:{handler:function(){this.getRecordsHelper()},deep:!0}},methods:{getRecords:function(t){this.$store.dispatch(this.storeName+"/getRecords",t)},setPagination:function(t){this.$store.dispatch(this.storeName+"/setPagination",t)},deleteRecord:function(t){this.$store.dispatch(this.storeName+"/deleteRecord",t)},updateRecord:function(t){this.$store.dispatch(this.storeName+"/updateRecord",t)},createRecord:function(t){this.$store.dispatch(this.storeName+"/createRecord",t)},getRecord:function(t){this.$store.dispatch(this.storeName+"/getRecord",t)},setRecord:function(t){this.$store.commit(this.storeName+"/setRecord",t)},closeAddEditDialog:function(){this.addEditDialogFlag=!1,this.setRecord()},addEditDialogOpen:function(){function t(t){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,this.getRecord({id:e,addons:this.addons});case 3:t.next=6;break;case 5:this.setRecord();case 6:this.addEditDialogFlag=!0;case 7:case"end":return t.stop()}},t,this)}));return t}(),addEditDialogSave:function(){function t(t){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===this.record.id){t.next=5;break}return t.next=3,this.updateRecord({record:this.record,addons:this.addons});case 3:t.next=7;break;case 5:return t.next=7,this.createRecord({record:this.record,addons:this.addons});case 7:return t.next=9,this.getRecordsHelper();case 9:this.closeAddEditDialog();case 10:case"end":return t.stop()}},t,this)}));return t}(),addEditDialogDelete:function(t){this.confirmDialogFlag=!0,this.addEditDialogFlag=!1},dialogConfirm:function(){function t(t){return e.apply(this,arguments)}var e=n(a.a.mark(function t(e){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(r=this.record.id)){t.next=6;break}return t.next=4,this.deleteRecord({id:r,addons:this.addons});case 4:return t.next=6,this.getRecordsHelper();case 6:this.setRecord(),this.confirmDialogFlag=!1;case 8:case"end":return t.stop()}},t,this)}));return t}(),dialogAbort:function(t){this.confirmDialogFlag=!1},getRecordsHelper:function(){function t(){return e.apply(this,arguments)}var e=n(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.getRecords({pagination:this.pagination,filterData:this.filterData,addons:this.addons});case 3:this.loading=!1;case 4:case"end":return t.stop()}},t,this)}));return t}(),submitFilter:function(){this.getRecordsHelper()},goBack:function(){this.$router.back()}}}},function(t,e,r){t.exports=r(2)},function(t,e,r){"use strict";function n(t){r(3)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(12),i=r(8),s=n,c=i(o.a,a.a,!1,s,"data-v-f4e6da2e",null);e.default=c.exports},function(t,e,r){var n=r(4);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r(6)("49c38557",n,!0,{sourceMap:!1})},function(t,e,r){e=t.exports=r(5)(!1),e.push([t.i,".make-modal[data-v-f4e6da2e]{margin:0;position:fixed;top:0;left:0;z-index:100;padding:0;min-width:100%;min-height:100%;background-color:#fff}",""])},function(t,e){function r(t,e){var r=t[1]||"",o=t[3];if(!o)return r;if(e&&"function"==typeof btoa){var a=n(o);return[r].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([a]).join("\n")}return[r].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=r(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&n[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),e.push(i))}},e}},function(t,e,r){function n(t){for(var e=0;e<t.length;e++){var r=t[e],n=u[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(a(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{for(var i=[],o=0;o<r.parts.length;o++)i.push(a(r.parts[o]));u[r.id]={id:r.id,refs:1,parts:i}}}}function o(){var t=document.createElement("style");return t.type="text/css",l.appendChild(t),t}function a(t){var e,r,n=document.querySelector("style["+m+'~="'+t.id+'"]');if(n){if(h)return v;n.parentNode.removeChild(n)}if(x){var a=p++;n=f||(f=o()),e=i.bind(null,n,a,!1),r=i.bind(null,n,a,!0)}else n=o(),e=s.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}function i(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=R(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function s(t,e){var r=e.css,n=e.media,o=e.sourceMap;if(n&&t.setAttribute("media",n),g.ssrId&&t.setAttribute(m,e.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d=r(7),u={},l=c&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,h=!1,v=function(){},g=null,m="data-vue-ssr-id",x="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,r,o){h=r,g=o||{};var a=d(t,e);return n(a),function(e){for(var r=[],o=0;o<a.length;o++){var i=a[o],s=u[i.id];s.refs--,r.push(s)}e?(a=d(t,e),n(a)):a=[];for(var o=0;o<r.length;o++){var s=r[o];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete u[s.id]}}}};var R=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var r=[],n={},o=0;o<e.length;o++){var a=e[o],i=a[0],s=a[1],c=a[2],d=a[3],u={id:t+":"+o,css:s,media:c,sourceMap:d};n[i]?n[i].parts.push(u):r.push(n[i]={id:i,parts:[u]})}return r}},function(t,e){t.exports=function(t,e,r,n,o,a){var i,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(i=t,s=t.default);var d="function"==typeof s?s.options:s;e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),r&&(d.functional=!0),o&&(d._scopeId=o);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=u):n&&(u=n),u){var l=d.functional,f=l?d.render:d.beforeCreate;l?(d._injectStyles=u,d.render=function(t,e){return u.call(e),f(t,e)}):d.beforeCreate=f?[].concat(f,u):[u]}return{esModule:i,exports:s,options:d}}},function(t,e,r){t.exports=r(10)},function(t,e){t.exports=require("regenerator-runtime")},function(t,e){t.exports=require("lodash/cloneDeep")},function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{class:{"make-modal":t.parentId}},[r("v-expansion-panel",[r("v-expansion-panel-content",{staticClass:"grey lighten-1"},[r("div",{attrs:{slot:"header"},slot:"header"},[t._v("Search")]),t._v(" "),r("v-form",{ref:"searchForm",staticClass:"grey lighten-3 pa-2",attrs:{"lazy-validation":""},model:{value:t.validFilter,callback:function(e){t.validFilter=e},expression:"validFilter"}},[r("crud-filter",{attrs:{filterData:t.filterData,parentId:t.parentId,storeName:t.storeName}}),t._v(" "),r("v-btn",{attrs:{disabled:!t.validFilter},on:{click:t.submitFilter}},[t._v("apply")])],1)],1)],1),t._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.records,"total-items":t.totalRecs,pagination:t.pagination,loading:t.loading},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[r("tr",{ref:"props.item",on:{click:function(r){r.stopPropagation(),t.addEditDialogOpen(e.item.id)}}},t._l(t.headers,function(n){return r("td",{key:n.value},[t._v(t._s(t._f("formatters")(e.item[n.value],n.value)))])}))]}}])},[r("template",{slot:"no-data"},[r("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n        Sorry, nothing to display here :(\n      ")])],1)],2),t._v(" "),r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.confirmDialogFlag,callback:function(e){t.confirmDialogFlag=e},expression:"confirmDialogFlag"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Confirmation")]),t._v(" "),r("v-card-text",[t._v(t._s(t.confirmDialogText))]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.dialogConfirm(e)}}},[t._v("Yes")]),t._v(" "),r("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.dialogAbort(e)}}},[t._v("No")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:t.addEditDialogFlag,callback:function(e){t.addEditDialogFlag=e},expression:"addEditDialogFlag"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Settings")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-toolbar-items"),t._v(" "),r("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.closeAddEditDialog(e)}}},[r("v-icon",[t._v("close")])],1)],1),t._v(" "),r("crud-form",{attrs:{record:t.record,parentId:t.parentId,storeName:t.storeName}}),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),t.record.id&&this.crudOps.delete?r("v-btn",{attrs:{color:"red darken-1",flat:""},nativeOn:{click:function(e){t.addEditDialogDelete(e)}}},[t._v("Delete")]):t._e(),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.addEditDialogSave(e)}}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),this.parentId?r("v-btn",{attrs:{fab:"",top:"",color:"blue",dark:""},on:{click:function(e){e.stopPropagation(),t.goBack(e)}}},[r("v-icon",[t._v("close")])],1):t._e(),t._v(" "),this.crudOps.create?r("v-btn",{attrs:{fab:"",top:"",color:"pink",dark:""},on:{click:function(e){e.stopPropagation(),t.addEditDialogOpen()}}},[r("v-icon",[t._v("add")])],1):t._e()],1)},o=[],a={render:n,staticRenderFns:o};e.a=a}]);